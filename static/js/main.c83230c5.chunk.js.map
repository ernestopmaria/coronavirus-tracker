{"version":3,"sources":["components/GlobalStatsItem.jsx","components/GlobalStats.jsx","components/Country.jsx","components/CountriesInfo.jsx","utils/utils.js","components/CountryInfo.jsx","components/WorldMap.jsx","components/footer.jsx","App.js","index.js"],"names":["GlobalStatsItem","title","value","className","parseInt","toLocaleString","replace","toUpperCase","GlobalStats","useState","stats","setStats","useEffect","axios","get","then","res","data","results","total_cases","total_recovered","total_deaths","total_new_cases_today","total_new_deaths_today","cases","recovered","deaths","cases_today","deaths_today","catch","err","console","log","undefined","Object","entries","map","entrie","Country","props","percent_recovered","percent_deaths","toFixed","CountriesInfo","countries","setCountries","sortUp","setSortUp","tempCountries","values","countryitems","country","handleClick","el","rows","name","up","sortedCountries","target","id","sort","a","b","onClick","ourid","key","CountryInfo","WorldMap","maxCountryCases","setMaxCountryCases","_maxCountryCases","path","selector","fill","rgbColor","totalCases","aux","Math","trunc","calcRGBColor","code","to","Footer","href","App","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c83230c5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nexport default function GlobalStatsItem({title, value}) {\r\n  return (\r\n        <div className=\"div-globalinfo-box-item\">\r\n            <h4 className=\"global-info-value\">{parseInt(value).toLocaleString()}</h4>\r\n            <span className=\"global-info-title\">\r\n                { title.replace(/_/g,' ').toUpperCase() }\r\n            </span>\r\n        </div>  \r\n  );\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from   'axios';\r\nimport GlobalStatsItem from './GlobalStatsItem';\r\n\r\nexport default function GlobalStats() {\r\n\r\n    const [stats, setStats] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('https://thevirustracker.com/free-api?global=stats')\r\n            .then( res => {\r\n                const {total_cases, total_recovered, total_deaths, \r\n                       total_new_cases_today, total_new_deaths_today} = res.data.results[0]\r\n                setStats({\r\n                    cases: total_cases,\r\n                    recovered: total_recovered,\r\n                    deaths: total_deaths,\r\n                    cases_today: total_new_cases_today,\r\n                    deaths_today: total_new_deaths_today\r\n                });\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, []);\r\n\r\n\r\n  return (\r\n    <div className=\"div-globalinfo-box\">\r\n        {\r\n            (stats.cases === undefined) ?\r\n            <h4>Loading informations...</h4> \r\n            :\r\n            Object.entries(stats).map(entrie => (\r\n                    <GlobalStatsItem \r\n                        title={entrie[0]}\r\n                        value={entrie[1]}\r\n                    />\r\n            ))\r\n            \r\n        }\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\n// import { Container } from './styles';\r\n\r\nexport default function Country(props) {\r\n\r\n    const { title, total_cases, total_recovered, total_deaths,\r\n            percent_recovered, percent_deaths } = props;\r\n\r\n    return (\r\n        <tr>\r\n            <td>{title}</td>\r\n            <td>{parseInt(total_cases).toLocaleString()}</td>\r\n            <td className=\"td_recovered\">{parseInt(total_recovered).toLocaleString()}</td>\r\n            <td className=\"td_recovered\">{percent_recovered.toFixed(2)}</td>\r\n            <td className=\"td_death\">{parseInt(total_deaths).toLocaleString()}</td>\r\n            <td className=\"td_death\">{percent_deaths.toFixed(2)}</td>\r\n        </tr>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { TiArrowUnsorted } from 'react-icons/ti';\r\n\r\nimport Country from './Country';\r\nimport {sortRowsPerName} from '../utils/utils';\r\n\r\n\r\nexport default function CountriesInfo() {\r\n  \r\n    const [countries, setCountries] = useState([]);\r\n    const [sortUp, setSortUp] = useState([]);\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('https://thevirustracker.com/free-api?countryTotals=ALL')\r\n            .then(res => {\r\n\r\n                const tempCountries = Object.values({...res.data.countryitems[0]}).map(country => {\r\n                    \r\n                    const { total_cases, total_deaths, total_recovered } = country;\r\n                    let percent_recovered = ( total_recovered / total_cases ) * 100;\r\n                    let percent_deaths = ( total_deaths / total_cases ) * 100;\r\n\r\n                    percent_recovered = percent_recovered || 0;\r\n                    percent_deaths = percent_deaths || 0;\r\n\r\n                    return {\r\n                        ...country, \r\n                        percent_deaths, \r\n                        percent_recovered\r\n                    }\r\n                 });\r\n\r\n                setCountries(tempCountries);\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n    }, []);\r\n\r\n    const handleClick = (el) => {\r\n        \r\n        const sortedCountries = sortRowsPerName(countries, el.target.id, sortUp);\r\n        setSortUp(!sortUp);\r\n        setCountries(sortedCountries);\r\n    }\r\n\r\n    return (\r\n        <div className=\"div-countries\">\r\n           <table>\r\n            <tr>\r\n                <th id=\"title\" onClick={handleClick}>\r\n                     <TiArrowUnsorted className=\"icon\"/>\r\n                     Country     \r\n                </th>\r\n                <th id=\"total_cases\" onClick={handleClick}>\r\n                    <TiArrowUnsorted className=\"icon\"/>\r\n                    Cases\r\n                </th>\r\n                <th id=\"total_recovered\" onClick={handleClick}>\r\n                    <TiArrowUnsorted className=\"icon\"/>\r\n                    Recovered\r\n                </th>\r\n                <th id=\"percent_recovered\" onClick={handleClick}>\r\n                    <TiArrowUnsorted className=\"icon\"/>\r\n                    %\r\n                </th>\r\n                <th id=\"total_deaths\" onClick={handleClick}>\r\n                    <TiArrowUnsorted className=\"icon\"/>\r\n                    Deaths\r\n                </th>\r\n                <th id=\"percent_deaths\" onClick={handleClick}>\r\n                    <TiArrowUnsorted className=\"icon\"/>\r\n                    %\r\n                </th>\r\n            </tr>\r\n            <tbody>\r\n                {\r\n                    Object.values(countries).map(country => {\r\n                        if (!country.ourid) {\r\n                            return;\r\n                        }\r\n                        return <Country key={country.ourid} {...country}/>\r\n                    })\r\n                }\r\n            </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n","\r\nfunction sortRowsPerName(rows, name, up) {\r\n\r\n    const _rows = Object.values(rows);\r\n\r\n    return _rows.sort((a, b) => {\r\n        if (up) {\r\n            return (a[name] > b[name]) ? 1 : ((b[name] > a[name]) ? -1 : 0);\r\n        } else {\r\n            return (a[name] < b[name]) ? 1 : ((b[name] < a[name]) ? -1 : 0);\r\n        }\r\n    });\r\n    \r\n}\r\n\r\nexport { sortRowsPerName };","import React from 'react'\r\n\r\nexport default function CountryInfo(props) {\r\n\r\n    console.log(props);\r\n\r\n    const { title, total_cases, total_recovered, total_deaths,\r\n        percent_recovered, percent_deaths } = props;\r\n\r\n    return (\r\n        <div className=\"country-info-box\">\r\n            <h2>title</h2>\r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div> \r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div>\r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div>\r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div>\r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div>\r\n            <div className=\"country-info-div\">\r\n                <h3></h3>\r\n                <span></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { SvgLoader, SvgProxy } from 'react-svgmt';\r\n\r\n//const svgUrl = \"https://raw.githubusercontent.com/flekschas/simple-world-map/master/world-map.svg\";\r\nconst svgFile = \"/coronavirus-tracker/globalMap.svg\";\r\n\r\nexport default function WorldMap() {\r\n\r\n    const [countries, setCountries] = useState([]);\r\n    const [maxCountryCases, setMaxCountryCases] = useState(0);\r\n\r\n    useEffect(() => {\r\n\r\n        axios.get('https://thevirustracker.com/free-api?countryTotals=ALL')\r\n            .then(res => {\r\n                let _maxCountryCases = 0;\r\n\r\n                const tempCountries = Object.values({...res.data.countryitems[0]}).map(country => {\r\n                    \r\n                    if (_maxCountryCases < country.total_cases) {\r\n                        _maxCountryCases = country.total_cases;\r\n                    }\r\n                    \r\n                    return {\r\n                        ...country\r\n                    }\r\n                 });\r\n\r\n                setCountries(tempCountries);\r\n                setMaxCountryCases(_maxCountryCases);\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n    }, []);\r\n\r\n\r\n    const handleClick = (country) => {\r\n\r\n        return <Link to=\"/country\" />\r\n    }\r\n\r\n\r\n    const calcRGBColor = (total_cases) => {\r\n\r\n        if (total_cases < 100) {\r\n            return \"rgb( 180, 180, 180)\";\r\n        }\r\n\r\n        const redDif = 255 - Math.trunc(maxCountryCases / 1000);\r\n        const totalCases = total_cases / 1000;\r\n\r\n        let aux = 0;\r\n\r\n        aux = totalCases + redDif; \r\n        const addVl = (((255 - totalCases)*(totalCases*3))/100); \r\n\r\n        //redux the color diference between country\r\n        aux = aux + addVl;\r\n\r\n        aux = Math.trunc(aux);\r\n\r\n        if (aux > 255) {\r\n            aux = 255;\r\n        }\r\n\r\n        return `rgb( 138, ${195 - aux}, ${180 - aux})`;\r\n    }\r\n\r\n\r\n  return (\r\n      <div className=\"map-box\">\r\n        <SvgLoader path={svgFile} >\r\n            <SvgProxy selector=\"path\" fill=\"#6f6f6f\"/>\r\n            {\r\n                Object.values(countries).map(country => {\r\n\r\n                    if (!country.ourid) return;\r\n          \r\n                    const rgbColor = calcRGBColor(country.total_cases);\r\n\r\n                    return (<SvgProxy\r\n                                key={country.ourid}\r\n                                className=\"svg-map\"\r\n                                id={country.code}\r\n                                selector={`#${country.code}`} \r\n                                fill={rgbColor}\r\n                                onClick={() => handleClick(country)}\r\n                            />)\r\n                })\r\n            }\r\n            \r\n        </SvgLoader> \r\n      </div>\r\n   \r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"footer\">\r\n            <h4>Created by Fabio Henrique Albiero</h4>\r\n            <p>Used <a href=\"https://thevirustracker.com\">thevirustracker.com</a> API to bring the informations in real time</p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport './App.css';\r\n\r\nimport GlobalStats from './components/GlobalStats';\r\nimport CountriesInfo from './components/CountriesInfo';\r\nimport CountryInfo from './components/CountryInfo';\r\nimport WorldMap from './components/WorldMap';\r\nimport Footer from './components/footer';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        <h1>CORONAVIRUS TRACKER</h1>\r\n\r\n        <Route path=\"/\" component={GlobalStats} />\r\n        \r\n        <Route path=\"/\" component={WorldMap} />\r\n        \r\n        <Route path=\"/\" component={CountriesInfo} />\r\n\r\n        <Route path=\"/country\" component={CountryInfo} />\r\n        \r\n        \r\n        <Footer />\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}